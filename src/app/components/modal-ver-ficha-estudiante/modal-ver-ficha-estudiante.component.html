<div class="modal-container" style="padding: 20px;">
    <!-- Título de la ficha -->
    <h1>Ficha de Estudiante</h1>
    <mat-divider></mat-divider>
  
    <!-- Sección de datos del estudiante -->
    <h2>Datos del Estudiante</h2>
    <table class="mat-elevation-z8" style="width: 50%; margin-bottom: 20px; border-collapse: collapse;">
      <tr>
        <td><strong>N° Matricula:</strong></td>
        <td>{{ estudiante.id }}</td>
      </tr>
      <tr>
        <td><strong>Nombre Completo:</strong></td>
        <td>{{ estudiante.primer_nombre_alumno }} {{ estudiante.segundo_nombre_alumno }} {{ estudiante.primer_apellido_alumno }} {{ estudiante.segundo_apellido_alumno }}</td>
      </tr>
      <tr>
        <td><strong>Fecha Nacimiento:</strong></td>
        <td>{{ estudiante.fecha_nacimiento_alumno | date:'dd/MM/yyyy' }}</td>
      </tr>
      <tr>
        <td><strong>Fecha Matrícula:</strong></td>
        <td>{{ estudiante.fecha_matricula | date:'dd/MM/yyyy' }}</td>
      </tr>
      <tr>
        <td><strong>RUT:</strong></td>
        <td>{{ estudiante.rut }}-{{ estudiante.dv }}</td>
      </tr>
      <tr>
        <td><strong>Género:</strong></td>
        <td>{{ estudiante.genero_alumno === 'F' ? 'Femenino' : estudiante.genero_alumno === 'M' ? 'Masculino' : estudiante.genero_alumno }}</td>
      </tr>
      <tr>
        <td><strong>Vive con:</strong></td>
        <td>{{ estudiante.vive_con }}</td>
      </tr>
      <tr>
        <td><strong>Previsión:</strong></td>
        <td>{{ estudiante.prevision_alumno }}</td>
      </tr>
      <tr>
        <td><strong>Nacionalidad:</strong></td>
        <td>{{ estudiante.nacionalidad }}</td>
      </tr>
      <tr>
        <td><strong>Consultorio/Clínica:</strong></td>
        <td>{{ estudiante.consultorio_clinica_alumno }}</td>
      </tr>
      <tr>
        <td><strong>Autorización Fotografías:</strong></td>
        <td>{{ estudiante.autorizacion_fotografias ? 'Sí' : 'No' }}</td>
      </tr>
      <tr>
        <td><strong>Estado Estudiante:</strong></td>
        <td>{{ estudiante.estado_estudiante ? 'Activo' : 'Inactivo' }}</td>
      </tr>
      <!-- Puedes agregar más filas con otros datos si lo requieres -->
    </table>
  
    <!-- Tabla de Apoderados -->
    <h2>Apoderado Titular</h2>
    <table mat-table [dataSource]="estudiante.apoderados" class="mat-elevation-z8" style="width: 100%; margin-bottom: 20px;">
      <!-- Columna ID -->
      <ng-container matColumnDef="id">
        <th mat-header-cell *matHeaderCellDef> ID </th>
        <td mat-cell *matCellDef="let elem"> {{elem.id}} </td>
      </ng-container>
      <!-- Columna Nombre -->
      <ng-container matColumnDef="nombre">
        <th mat-header-cell *matHeaderCellDef> Nombre </th>
        <td mat-cell *matCellDef="let elem">
          {{elem.primer_nombre_apoderado}} {{elem.segundo_nombre_apoderado}} {{elem.primer_apellido_apoderado}} {{elem.segundo_apellido_apoderado}}
        </td>
      </ng-container>
      <!-- Columna RUT -->
      <ng-container matColumnDef="rut">
        <th mat-header-cell *matHeaderCellDef> RUT </th>
        <td mat-cell *matCellDef="let elem"> {{elem.rut}}-{{elem.dv}} </td>
      </ng-container>
      <!-- Columna Teléfono -->
      <ng-container matColumnDef="telefono">
        <th mat-header-cell *matHeaderCellDef> Teléfono </th>
        <td mat-cell *matCellDef="let elem"> {{elem.telefono_apoderado}} </td>
      </ng-container>
      <!-- Columna Correo -->
      <ng-container matColumnDef="correo">
        <th mat-header-cell *matHeaderCellDef> Correo </th>
        <td mat-cell *matCellDef="let elem"> {{elem.correo_apoderado}} </td>
      </ng-container>
      <!-- Columna Estado Civil -->
      <ng-container matColumnDef="estadoCivil">
        <th mat-header-cell *matHeaderCellDef> Estado Civil </th>
        <td mat-cell *matCellDef="let elem"> {{elem.estado_civil}} </td>
      </ng-container>
      <!-- Columna Parentesco -->
      <ng-container matColumnDef="parentesco">
        <th mat-header-cell *matHeaderCellDef> Parentesco </th>
        <td mat-cell *matCellDef="let elem"> {{elem.parentesco_apoderado}} </td>
      </ng-container>
  
      <!-- Encabezados y filas -->
      <tr mat-header-row *matHeaderRowDef="['id','nombre','rut','telefono','correo','estadoCivil','parentesco']"></tr>
      <tr mat-row *matRowDef="let row; columns: ['id','nombre','rut','telefono','correo','estadoCivil','parentesco']"></tr>
    </table>
  
    <!-- Tabla de Apoderados Suplentes -->
    <h2>Apoderado Suplente</h2>
    <table mat-table [dataSource]="estudiante.apoderadosSuplentes" class="mat-elevation-z8" style="width: 100%;">
      <!-- Reutilizamos las mismas columnas que para apoderados -->
      <ng-container matColumnDef="id">
        <th mat-header-cell *matHeaderCellDef> ID </th>
        <td mat-cell *matCellDef="let elem"> {{elem.id}} </td>
      </ng-container>
      <ng-container matColumnDef="nombre">
        <th mat-header-cell *matHeaderCellDef> Nombre </th>
        <td mat-cell *matCellDef="let elem">
          {{elem.primer_nombre_apoderado}} {{elem.segundo_nombre_apoderado}} {{elem.primer_apellido_apoderado}} {{elem.segundo_apellido_apoderado}}
        </td>
      </ng-container>
      <ng-container matColumnDef="rut">
        <th mat-header-cell *matHeaderCellDef> RUT </th>
        <td mat-cell *matCellDef="let elem"> {{elem.rut}}-{{elem.dv}} </td>
      </ng-container>
      <ng-container matColumnDef="telefono">
        <th mat-header-cell *matHeaderCellDef> Teléfono </th>
        <td mat-cell *matCellDef="let elem"> {{elem.telefono_apoderado}} </td>
      </ng-container>
      <ng-container matColumnDef="correo">
        <th mat-header-cell *matHeaderCellDef> Correo </th>
        <td mat-cell *matCellDef="let elem"> {{elem.correo_apoderado}} </td>
      </ng-container>
      <ng-container matColumnDef="estadoCivil">
        <th mat-header-cell *matHeaderCellDef> Estado Civil </th>
        <td mat-cell *matCellDef="let elem"> {{elem.estado_civil}} </td>
      </ng-container>
      <ng-container matColumnDef="parentesco">
        <th mat-header-cell *matHeaderCellDef> Parentesco </th>
        <td mat-cell *matCellDef="let elem"> {{elem.parentesco_apoderado}} </td>
      </ng-container>
  
      <!-- Encabezados y filas -->
      <tr mat-header-row *matHeaderRowDef="['id','nombre','rut','telefono','correo','estadoCivil','parentesco']"></tr>
      <tr mat-row *matRowDef="let row; columns: ['id','nombre','rut','telefono','correo','estadoCivil','parentesco']"></tr>
    </table>
  
    <!-- Botón para cerrar la vista -->
    <div style="margin-top: 20px; text-align: right;">
      <button mat-raised-button color="primary" (click)="closeModal()">Cerrar</button>
    </div>
  </div>
  
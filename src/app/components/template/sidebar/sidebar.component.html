<mat-toolbar>
    <button mat-icon-button (click)="sidenav.toggle()">
        <mat-icon>menu</mat-icon>
    </button>
    <span>Intranet Colegio Andes Chile</span>
</mat-toolbar>

<mat-sidenav-container class="sidenav-container">
    <mat-sidenav #sidenav mode="side" class="sidenav" [style.width]="'280px'">
        <a mat-list-item routerLink="/home" routerLinkActive="active" class="link-dark">
            <img src="../assets/img/logo.png" alt="" class="logo">
        </a>
        <mat-nav-list>
            <mat-list-item class="mb-1" mat-button>
                <a mat-list-item routerLink="/home" routerLinkActive="active" class="link-dark">
                    <i class="fas fa-home icon"></i>
                    <span>Inicio</span>
                </a>
            </mat-list-item>
        </mat-nav-list>

        <mat-nav-list>
            <mat-list-item *ngIf="rolUser === 'administrador'" class="mb-1" mat-button (click)="toggleMatriculas()">
                <i class="fas fa-book icon"></i>
                <span>Matrículas</span>
                <mat-icon class="expand-icon" aria-hidden="true">{{ isMatriculasOpen ? 'expand_less' : 'expand_more'
                    }}</mat-icon>
            </mat-list-item>
            <mat-nav-list *ngIf="isMatriculasOpen && rolUser === 'administrador'">
                <a mat-list-item routerLink="/matriculas" routerLinkActive="active">Libro de Matrículas</a>
                <a mat-list-item routerLink="/bandeja-inscripciones" routerLinkActive="active">Bandeja de
                    inscripciones</a>
            </mat-nav-list>

            <mat-list-item *ngIf="rolUser === 'administrador'" class="mb-1" mat-button (click)="toggleFinanzas()">
                <i class="fas fa-chart-line icon"></i>
                <span>Finanzas</span>
                <mat-icon class="expand-icon" aria-hidden="true">{{ isFinanzasOpen ? 'expand_less' : 'expand_more'
                    }}</mat-icon>
            </mat-list-item>
            <mat-nav-list *ngIf="isFinanzasOpen && rolUser === 'administrador'">
                <a mat-list-item routerLink="/boletas" routerLinkActive="active">Detalle Boletas</a>
                <a mat-list-item routerLink="/crear-boletas-apoderado" routerLinkActive="active">Mantenedor Boletas
                    Apoderado</a>
            </mat-nav-list>

            <mat-list-item *ngIf="isProfesorOpen && rolUser === 'profesor'" class="mb-1" mat-button
                (click)="toggleProfesor()">
                <i class="fas fa-users icon"></i>
                <span>Cursos</span>
                <mat-icon class="expand-icon" aria-hidden="true">{{ isProfesorOpen ? 'expand_less' : 'expand_more'
                    }}</mat-icon>
            </mat-list-item>
            <mat-nav-list *ngIf="rolUser === 'profesor'">
                <a mat-list-item routerLink="/cursos" routerLinkActive="active">Gestionar Anotaciones</a>
            </mat-nav-list>
        </mat-nav-list>
        <hr>
        <div class="mB">
            <strong><small>Perfil</small></strong>
        </div>
        <div class="dropdown">
            <a mat-list-item class="d-flex align-items-center text-black text-decoration-none"
                (click)="sidenav.toggle()">
                <img [src]="genderUser === 'F' ? '../../../assets/img/6.png' : '../../../assets/img/5.png'" alt=""
                    width="50" height="50" class="rounded-circle me-2">
                <div class="datosPerfil">
                    <strong>{{nombreUser}}</strong>
                    <small>{{rolUser === 'profesor' ? 'Profesor' : 'Administrador'}}</small>
                </div>
            </a>
            <mat-menu #userMenu="matMenu">
                <button mat-menu-item routerLink="#">Perfil</button>
                <button mat-menu-item (click)="logout()">Cerrar Sesión</button>
            </mat-menu>
        </div>
    </mat-sidenav>

    <mat-sidenav-content>

        <ng-container *ngIf="isLogged; else isNotLogged">

            <router-outlet></router-outlet>

        </ng-container>

        <ng-template #isNotLogged>
            <app-login></app-login>
        </ng-template>

    </mat-sidenav-content>
    
</mat-sidenav-container>